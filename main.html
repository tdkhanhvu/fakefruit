<div>
    <div class="row">
        <div class="col-md-2">
            <div><h3><span class="label label-success">Bước 1</span></h3></div>
            <small>Chọn trái cây</small>
            <ui-select ng-model="$parent.selectedFruit" theme="bootstrap"
                       on-select="searchFruit()">
                <ui-select-match placeholder="Chọn trái cây">
                    <img ng-src="{{$select.selected.icon}}" style="margin-top:-5px"
                         class="pull-left">
                    {{$select.selected.name}}
                </ui-select-match>
                <ui-select-choices repeat="fruit in fruits | orderBy:'id'">
                    <img ng-src="{{fruit.icon}}" class="pull-left">

                    <div ng-bind-html="fruit.name | highlight: $select.search"
                         style="height:30px;margin-top:5px;" class="pull-left">
                        {{fruit.name}}
                    </div>
                    <div class="clearfix"></div>
                </ui-select-choices>
            </ui-select>
            <div ng-show="selectedFruit">
                <div><h3><span class="label label-success">Bước 2</span></h3></div>
                <small>Chọn loại {{selectedFruit.name}}</small>
                <ui-select ng-model="$parent.selectedType" theme="bootstrap"
                           on-select="searchType()">
                    <ui-select-match placeholder="Chọn {{selectedFruit.name}}">
                        <img ng-src="{{$select.selected.icon}}" style="margin-top:-5px"
                             class="pull-left">
                        {{$select.selected.name}}
                    </ui-select-match>
                    <ui-select-choices repeat="type in types | orderBy:'id'">
                        <img ng-src="{{type.icon}}" class="pull-left">

                        <div ng-bind-html="type.name | highlight: $select.search"
                             style="height:30px;margin-top:5px;" class="pull-left">
                            {{type.name}}
                        </div>
                        <div class="clearfix"></div>
                    </ui-select-choices>
                </ui-select>
            </div>

            <div ng-show="selectedType">
                <div><h3><span class="label label-success">Bước 3</span></h3></div>
                <small>Chọn nguồn gốc</small>
                <div data-toggle="buttons">
                    <label class="btn btn-primary" ng-repeat="origin in origins"
                           ng-class="{'active': origin.visible}"
                           style="width: 100%; margin: 2px;">
                        <input type="checkbox" autocomplete="off" checked
                               ng-model="origin.visible">{{origin.name}}
                    </label>

                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
        <div class="col-md-10">
            <div class="clearfix"></div>

            <div class="table-responsive">
                <table class="table table-bordered table-hover" ng-show="showTable()">
                    <thead>
                    <tr class="bg-primary">
                        <th>Nhóm</th>
                        <th>Gốc</th>
                        <th ng-repeat="origin in origins" ng-show="origin.visible">{{origin.name}}</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td rowspan="1"></td>
                        <td>
                            Hình
                        </td>
                        <td ng-repeat="origin in origins" ng-show="origin.visible">
                            <img ng-src="{{origin.image}}"
                                 title="{{origin.name}}">
                        </td>
                    </tr>
                    <tr ng-repeat="attribute in attributes" class="bg-{{attribute.class}} text-{{attribute.class}}">
                        <td rowspan="{{attribute.rows}}" ng-if="attribute.rows != 0">{{attribute.group}}</td>
                        <td><span class="label label-{{attribute.class}}">{{attribute.name}}</span></td>
                        <td ng-repeat="origin in origins" ng-show="origin.visible"">
                            <strong ng-if="origin.id == 'trungquoc'">{{origin.description[attribute.id]}}</strong>
                            <span ng-if="origin.id != 'trungquoc'">{{origin.description[attribute.id]}}</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>